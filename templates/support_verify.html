{% extends "base.html" %} {% block title %}Vérification email - Support{%
endblock %} {% block content %}

<div class="max-w-md mx-auto mt-10 mb-12">
  <section
    class="bg-white border border-slate-200 rounded-2xl shadow-sm p-6 space-y-4"
  >
    <h1 class="text-2xl font-bold text-slate-900 text-center">
      Vérification de ton adresse email
    </h1>

    <p class="text-sm text-slate-600 text-center">
      Un code de vérification a été envoyé à
      <span class="font-mono text-slate-900">{{ email }}</span>.<br />
      Entre-le ci-dessous pour valider ton ticket de support.
    </p>

    {% if erreur %}
    <div
      class="bg-red-50 text-red-800 border border-red-200 px-3 py-2 rounded-lg text-sm"
    >
      {{ erreur }}
    </div>
    {% endif %}

    <form method="POST" class="space-y-4">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

      <div>
        <label
          for="code"
          class="block text-xs font-semibold text-slate-600 mb-1"
        >
          Code de vérification
        </label>
        <input
          type="text"
          id="code"
          name="code"
          required
          maxlength="6"
          pattern="[0-9]*"
          inputmode="numeric"
          placeholder="Ex: 123456"
          class="w-full text-sm px-3 py-2 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"
        />
        <p class="text-[11px] text-slate-500 mt-1">
          Le code est valable quelques minutes. Vérifie aussi tes spams.
        </p>
      </div>

      <div class="flex items-center justify-between pt-2">
        <a
          href="{{ url_for('support.support_form') }}"
          class="text-xs text-slate-500 hover:text-slate-700 underline"
        >
          Annuler et recréer un ticket
        </a>

        <button
          type="submit"
          class="inline-flex items-center justify-center px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm font-semibold hover:bg-emerald-500"
        >
          Valider le code
        </button>
      </div>
    </form>
  </section>
</div>

{% endblock %}
